---
import Layout from '../layouts/Layout.astro';
import CalculadoraRetencion from '../components/CalculadoraRetencion';
import { SEO_CONFIG, STRUCTURED_DATA, PAGE_METADATA } from '../constants/seo';

const { home: pageMetadata } = PAGE_METADATA;

// Enhance the default WebApplication schema with additional data
const schemaData = {
    ...STRUCTURED_DATA.webApplication,
    "dateModified": new Date().toISOString(),
    "keywords": [
        "calculadora retención",
        "honorarios chile",
        "retención honorarios",
        "cálculo impuestos",
        "boletas honorarios"
    ],
    "availableLanguage": ["es-CL"],
    "applicationCategory": "FinanceApplication",
    "operatingSystem": "Web",
    "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "CLP",
        "availability": "http://schema.org/InStock"
    }
};
---

<Layout
    title={pageMetadata.title}
    description={pageMetadata.description}
    schemaType="WebApplication"
    schemaData={schemaData}
>
    <main>
        <CalculadoraRetencion client:load />
    </main>
</Layout>